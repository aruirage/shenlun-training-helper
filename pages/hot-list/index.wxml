<!-- pages/hot-list/index.wxml - React Minimalist Hot Topics Design -->

<view class="hot-list-root">
  <!-- iPad ä¸‰æ å¸ƒå±€ -->
  <view wx:if="{{isPad}}" class="hot-layout">
    
    <!-- å·¦ä¾§å¯¼èˆª -->
    <aside class="hot-nav">
      <view class="nav-header">
        <view class="nav-icon">ğŸ“‹</view>
        <text class="nav-title">ç”³è®º AI åŠ©æ‰‹</text>
      </view>
      
      <nav class="nav-list">
        <view 
          wx:for="{{navItems}}" 
          wx:key="name"
          class="nav-item {{activeNav === item.name ? 'active' : ''}}"
          data-name="{{item.name}}"
          data-route="{{item.route}}"
          bindtap="onNavItemTap"
        >
          <text class="nav-item-icon">{{item.icon}}</text>
          <text class="nav-item-text">{{item.name}}</text>
        </view>
      </nav>
    </aside>

    <!-- ä¸­é—´ä¸»å†…å®¹åŒº -->
    <main class="hot-main">
      <view class="main-content">
        
        <!-- é¡µé¢å¤´éƒ¨ -->
        <header class="page-header">
          <view class="header-top">
            <text class="page-title">ä»Šæ—¥çƒ­ç‚¹</text>
            <view class="header-date">
              <text class="date-icon">ğŸ“…</text>
              <text class="date-text">{{currentDate}}</text>
            </view>
          </view>
          <view class="page-subtitle">
            æ¯å¤©ç²¾é€‰ 3 ä¸ªæ—¶æ”¿çƒ­ç‚¹ï¼Œæ·±åº¦è§£æè€ƒç‚¹ï¼ŒåŠ©ä½ å®Œæˆåˆ†è®ºç‚¹æ‹†è§£ç»ƒä¹ ã€‚
          </view>
        </header>

        <!-- çƒ­ç‚¹å¡ç‰‡åˆ—è¡¨ -->
        <section class="topic-list">
          <view 
            wx:for="{{hotTopics}}" 
            wx:key="id"
            class="topic-card"
            data-id="{{item.id}}"
            bindtap="goToTrain"
          >
            <view class="card-header">
              <text class="card-title">{{item.title}}</text>
              <view class="card-arrow">â€º</view>
            </view>
            
            <view class="card-summary">{{item.summary}}</view>

            <view class="card-footer">
              <view class="card-meta">
                <text class="meta-badge">{{item.source}}</text>
                <text class="meta-date">{{item.date}}</text>
              </view>
              <view class="card-field">{{item.field}}</view>
            </view>
          </view>
        </section>

      </view>
    </main>

    <!-- å³ä¾§è¾…åŠ©æ  -->
    <aside class="hot-aside {{showRightPanel ? '' : 'collapsed'}}" style="width: {{showRightPanel ? rightPanelWidth : 44}}px;">
      <!-- è°ƒæ•´æ‰‹æŸ„ -->
      <view 
        class="resize-handle" 
        catchtouchstart="startResize"
        catchtouchmove="onResize"
        catchtouchend="endResize">
        <view class="resize-line"></view>
      </view>
      
      <!-- éšè—æŒ‰é’® -->
      <view class="panel-toggle-btn" bindtap="toggleRightPanel">
        <text class="toggle-icon">{{showRightPanel ? 'â€º' : 'â€¹'}}</text>
      </view>
      
      <view class="aside-content">
        
        <!-- è®­ç»ƒæµç¨‹è¯´æ˜ -->
        <section class="training-section">
          <view class="section-header">
            <text class="section-icon">â„¹ï¸</text>
            <text class="section-label">è®­ç»ƒæµç¨‹è¯´æ˜</text>
          </view>
          
          <view class="steps-container">
            <view 
              wx:for="{{trainingSteps}}" 
              wx:key="step"
              class="step-item"
            >
              <view class="step-dot">
                <view class="step-dot-inner"></view>
              </view>
              <view class="step-content">
                <text class="step-title">{{item.title}}</text>
                <text class="step-desc">{{item.desc}}</text>
              </view>
            </view>
          </view>
        </section>

        <!-- å†å²è®°å½• -->
        <section class="history-section">
          <button class="history-btn" bindtap="viewHistory">
            <text class="history-icon">â±ï¸</text>
            <text class="history-text">å›é¡¾å†å²çƒ­ç‚¹</text>
            <text class="history-arrow">â†’</text>
          </button>
        </section>

      </view>
    </aside>

  </view>

  <!-- æ‰‹æœºå•æ å¸ƒå±€ -->
  <view wx:else class="phone-layout">
    <view class="phone-header">
      <view class="header-top">
        <text class="page-title">ä»Šæ—¥çƒ­ç‚¹</text>
        <view class="header-date">
          <text class="date-icon">ğŸ“…</text>
          <text class="date-text">{{currentDate}}</text>
        </view>
      </view>
      <view class="page-subtitle">
        æ¯å¤©ç²¾é€‰ 3 ä¸ªæ—¶æ”¿çƒ­ç‚¹ï¼Œæ·±åº¦è§£æè€ƒç‚¹ï¼ŒåŠ©ä½ å®Œæˆåˆ†è®ºç‚¹æ‹†è§£ç»ƒä¹ ã€‚
      </view>
    </view>

    <section class="topic-list">
      <view 
        wx:for="{{hotTopics}}" 
        wx:key="id"
        class="topic-card"
        data-id="{{item.id}}"
        bindtap="goToTrain"
      >
        <view class="card-header">
          <text class="card-title">{{item.title}}</text>
          <view class="card-arrow">â€º</view>
        </view>
        
        <view class="card-summary">{{item.summary}}</view>

        <view class="card-footer">
          <view class="card-meta">
            <text class="meta-badge">{{item.source}}</text>
            <text class="meta-date">{{item.date}}</text>
          </view>
          <view class="card-field">{{item.field}}</view>
        </view>
      </view>
    </section>
  </view>

</view>
